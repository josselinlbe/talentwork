---
meta:
  title: API Key | Account | SaasRock
  description: SaasRock API Key Account Core Model - API Key Life cycle, Properties and Model.
headers:
  Cache-Control: no-cache
---

import DocBreadcrumb from "~/components/ui/docs/DocBreadcrumb";

<DocBreadcrumb
  items={[
    {
      title: "Account Models",
      routePath: "/docs/core-models/account",
    },
    {
      title: "API Key",
      routePath: "/docs/core-models/account/api-key",
    },
  ]}
/>

# API Key

- Belongs to a [Tenant](/docs/core-models/account/tenant).
- Lets a Tenant use the [API](/docs/features/api).

## Life Cycle

import DocLifeCycle from "~/components/ui/docs/DocLifeCycle";

<DocLifeCycle
  items={[
    {
      route: "/admin/api/keys",
      c: false,
      r: true,
      u: false,
      d: false,
    },
    {
      route: "/admin/api/keys/new",
      c: true,
      r: false,
      u: false,
      d: false,
    },
    {
      route: "/admin/api/keys/:id",
      c: false,
      r: true,
      u: true,
      d: true,
    },
    {
      route: "/app/:tenant/settings/api/keys",
      c: false,
      r: true,
      u: false,
      d: false,
    },
    {
      route: "/app/:tenant/settings/api/keys/new",
      c: true,
      r: false,
      u: false,
      d: false,
    },
    {
      route: "/app/:tenant/settings/api/keys/:id",
      c: false,
      r: true,
      u: true,
      d: true,
    },
  ]}
/>

## Properties

import DocPropertiesTable, {
  ModelPropertyType,
} from "~/components/ui/docs/DocPropertiesTable";

<DocPropertiesTable
  items={[
    {
      name: "tenantId",
      title: "Tenant",
      customType: {
        name: "Tenant",
        route: "/docs/core-models/account/tenant",
      },
      description: "",
      required: true,
    },
    {
      name: "key",
      title: "Key",
      type: ModelPropertyType.UUID,
      description: "Autogenerated",
      required: true,
    },
    {
      name: "alias",
      title: "Alias",
      type: ModelPropertyType.String,
      description:
        "Shows as 'created by XYZ' on Custom Entity Rows",
      required: true,
    },
    {
      name: "max",
      title: "Max",
      type: ModelPropertyType.Int,
      description: "Maximum number of usages",
      required: true,
    },
    {
      name: "expires",
      title: "Expires",
      type: ModelPropertyType.DateTime,
      description: "",
      required: true,
    },
    {
      name: "active",
      title: "Active",
      type: ModelPropertyType.Boolean,
      description: "",
      required: true,
    },
    {
      name: "entities",
      title: "Entities",
      customType: {
        name: "ApiKeyEntity[]",
        route: "",
      },
      description: "CRUD permissions of Custom Entities",
      required: true,
    },
    {
      name: "apiKeyLogs",
      title: "API Key Logs",
      customType: {
        name: "ApiKeyLog[]",
        route: "",
      },
      description:
        "IP, Endpoint, Method, Params, Status and Error",
      required: false,
    },
    {
      name: "logs",
      title: "Logs",
      customType: {
        name: "Log[]",
      },
      description: "API Key audit trails/events",
      required: false,
    },
    {
      name: "createdRows",
      title: "Rows",
      customType: {
        name: "Row[]",
        route: "/docs/core-models/custom-entity/row",
      },
      description: "Custom entity rows created by API Key",
      required: false,
    },
  ]}
/>

## Model

```
model ApiKey {
  id              String         @id @default(cuid())
  createdAt       DateTime       @default(now())
  createdByUserId String
  createdByUser   User           @relation(fields: [createdByUserId], references: [id], onDelete: Cascade)
  tenantId        String
  tenant          Tenant         @relation(fields: [tenantId], references: [id], onDelete: Cascade)
  key             String         @default(uuid())
  alias           String
  max             Int
  expires         DateTime
  active          Boolean
  entities        ApiKeyEntity[]
  apiKeyLogs      ApiKeyLog[]
  logs            Log[]
  rows            Row[]

  @@unique([tenantId, alias])
}
```
